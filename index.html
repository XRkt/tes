<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>Tes</title>
		<script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
		<script src="https://unpkg.com/aframe-look-at-component@1.0.0/dist/aframe-look-at-component.min.js"></script>
		<script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
		<script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
		<script src="https://raw.githack.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
		<script>
			THREEx.ArToolkitContext.baseURL = "https://raw.githack.com/jeromeetienne/ar.js/master/three.js/"
		</script>
	</head>
	<body style="margin:0; overflow:hidden;">
                <div id ="debug"></div>
		<a-scene
			vr-mode-ui="enabled: false"
			embedded
			arjs="sourceType: webcam; sourceWidth:1280; sourceHeight:960; displayWidth: 1280; displayHeight: 960; debugUIEnabled: false;">
			<a-assets>
				<a-asset-items id="karubi" src="karubi.gltf"></a-asset-items>
			</a-assets>
			<a-text
				id="text"
				value=""
				look-at="[gps-camera]"
				sclae="30 30 30 "
				position="0 55 0"
				gps-entity-place="latitude:37.893641; longitude:139.049939;">
			</a-text>			
			
			
			<a-entity
				gps-entity-place="latitude:37.893641;longitude:139.049939;"
				gltf-model="#karubi"
				scale="5 5 5">
			</a-entity>

			<a-camera gps-camera="gpsminDistance:1; gpsmaxDistance:2; gpsTimeInterval:0;" rotaion-reader></a-camera>
		</a-scene>
		<script>
			window.addEventListener("load", () => {
				const text = document.getElementById("text");
				text.addEventListener("gps-entity-place-update-positon", (event) => {
				document.getElementById("debug").textContent = "あと${event.detail.distance}m";
				text.setAttribute("value", text.getAttribute("distanceMsg") + "left");
				 });
			});
		</script>
	</body>
</html>
